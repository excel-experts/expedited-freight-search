<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Orders - Expedited Freight</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-brand">
                <h2>üöö Expedited Freight v0.1.2</h2>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link active">Search Orders</a>
                <!--<a href="admin-users.html" class="nav-link" id="userMgmtLink" style="display: none;">User Management</a>-->
                <a href="admin-data.html" class="nav-link" id="dataMgmtLink" style="display: none;">Data Management</a>
                <span class="nav-user" id="userEmail"></span>
                <button class="btn btn-secondary btn-sm" id="logoutBtn">Logout</button>
            </div>
        </div>
    </nav>

    <main class="container">
        <div class="page-header">
            <h1>Historical Orders Search</h1>
            <p>Search through past shipments by origin, destination, and carrier</p>
        </div>

        <div class="search-card">
            <form id="searchForm" class="search-form">
                <div class="form-row">

                    <div class="form-group">
                        <label for="carrier">*Carrier</label>
                        <input type="text" id="carrier" name="carrier" placeholder="e.g., ABC Transport">
                    </div>

                    <div class="form-group">
                        <label for="inopInfo">INOP</label>
                        <input type="text" id="inopInfo" name="inopInfo" placeholder="e.g., Yes or No">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="pickupBusiness">*Pickup Business Name</label>
                        <input type="text" id="pickupBusiness" name="pickupBusiness" placeholder="">
                    </div>

                    <div class="form-group">
                        <label for="originCity">*Origin City</label>
                        <input type="text" id="originCity" name="originCity" placeholder="e.g., Dallas">
                    </div>
                    <div class="form-group">
                        <label for="originState">Origin State</label>
                        <input type="text" id="originState" name="originState" placeholder="e.g., TX">
                    </div>
                    <div class="form-group">
                        <label for="originZip">*Origin Zip</label>
                        <input type="text" id="originZip" name="originZip" placeholder="e.g., 12345">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="deliveryBusiness">*Delivery Business Name</label>
                        <input type="text" id="deliveryBusiness" name="deliveryBusiness" placeholder="">
                    </div>

                    <div class="form-group">
                        <label for="destinationCity">*Destination City</label>
                        <input type="text" id="destinationCity" name="destinationCity" placeholder="e.g., Tulsa">
                    </div>

                    <div class="form-group">
                        <label for="destinationState">Destination State</label>
                        <input type="text" id="destinationState" name="destinationState" placeholder="e.g., OK">
                    </div>

                    <div class="form-group">
                        <label for="destinationZip">*Destination Zip</label>
                        <input type="text" id="destinationZip" name="destinationZip" placeholder="e.g., 12345">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        üîç Search Orders
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearBtn">
                        Clear
                    </button>
                </div>
            </form>
        </div>
        <div id="previewSection" style="display: none; margin-top: 20px;">
            <div class="metrics-grid">
                <div class="metrics-card">
                    <h3>Manually Entered Prices</h3>
                    <div class="table-container" style="max-height: 300px;">
                        <table class="data-table" id="previewTable">
                            <thead id="previewTableHead"></thead>
                            <tbody id="previewTableBody"></tbody>
                        </table>
                    </div>
                    <p style="margin-top: 10px;"><strong>Total special price qoutes found:</strong> <span
                            id="totalRows">0</span></p>
                </div>
            </div><!-- metrics-grid end-->
        </div><!-- preview-section end-->

        <div id="resultsSection" style="display: none;">
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">Total Records</div>
                    <div class="metric-value" id="totalRecords">0</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Average (1-3)</div>
                    <div class="metric-value" id="avgLoPrice">$0</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Average (4+)</div>
                    <div class="metric-value" id="avgHiPrice">$0</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Avg INOP Price</div>
                    <div class="metric-value" id="avgInopPrice">$0</div>
                </div>
            </div><!-- metrics-grid end-->

            <div class="results-header">
                <h2>Search Results</h2>
                <button class="btn btn-secondary btn-sm" id="nextBtn" disabled>Next</button>
            </div>
        </div><!-- results-section end-->

        <div id="noResults" style="display: none;" class="no-results">
            <p>No historical orders found matching your search criteria.</p>
        </div><!-- no-results section end-->

        <div id="loadingResults" style="display: none;" class="loading-message">
            Searching orders...
        </div><!-- loading-message end-->
    </main>

    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/search.js"></script>
</body>

</html>