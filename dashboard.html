<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Search Orders - Expedited Freight</title>
        <link rel="stylesheet" href="css/styles.css">
    </head>

<body>
    <nav class="navbar">
        <!-- Navigation injected by app.js -->
    </nav>

    <main class="container">
        <div class="page-header">
            <h1>Historical Orders Search</h1>
            <p>Search through past shipments by pickup, delivery, and carrier</p>
        </div>

        <div class="search-card">
            <form id="searchForm" class="search-form">
                <div class="form-row">

                    <div class="form-group">
                        <label for="carrier">*Carrier</label>
                        <input type="text" id="carrier" name="carrier" placeholder="e.g., ABC Transport">
                    </div>

                    <div class="form-group">
                        <label for="inopInfo">INOP</label>
                        <input type="text" id="inopInfo" name="inopInfo" placeholder="e.g., Yes or No">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="pickupBusiness">*Pickup Business Name</label>
                        <input type="text" id="pickupBusiness" name="pickupBusiness" placeholder="">
                    </div>

                    <div class="form-group">
                        <label for="pickupCity">*Pickup City</label>
                        <input type="text" id="pickupCity" name="pickupCity" placeholder="e.g., Dallas">
                    </div>
                    <div class="form-group">
                        <label for="pickupState">Pickup State</label>
                        <input type="text" id="pickupState" name="pickupState" placeholder="e.g., TX">
                    </div>
                    <div class="form-group">
                        <label for="pickupZip">*Pickup Zip</label>
                        <input type="text" id="pickupZip" name="pickupZip" placeholder="e.g., 12345">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="deliveryBusiness">*Delivery Business Name</label>
                        <input type="text" id="deliveryBusiness" name="deliveryBusiness" placeholder="">
                    </div>

                    <div class="form-group">
                        <label for="deliveryCity">*Delivery City</label>
                        <input type="text" id="deliveryCity" name="deliveryCity" placeholder="e.g., Tulsa">
                    </div>

                    <div class="form-group">
                        <label for="deliveryState">Delivery State</label>
                        <input type="text" id="deliveryState" name="deliveryState" placeholder="e.g., OK">
                    </div>

                    <div class="form-group">
                        <label for="deliveryZip">*Delivery Zip</label>
                        <input type="text" id="deliveryZip" name="deliveryZip" placeholder="e.g., 12345">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        üîç Search Orders
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearBtn">
                        Clear
                    </button>
                </div>
            </form>
        </div>
        <div id="previewSection" style="display: none; margin-top: 20px;">
            <div class="metrics-grid">
                <div class="metrics-card">
                    <h3>Manually Entered Prices</h3>
                    <div class="table-container" style="max-height: 300px;">
                        <table class="data-table" id="previewTable">
                            <thead id="previewTableHead"></thead>
                            <tbody id="previewTableBody"></tbody>
                        </table>
                    </div>
                    <p style="margin-top: 10px;"><strong>Total special price qoutes found:</strong> <span
                            id="totalRows">0</span></p>
                </div>
            </div><!-- metrics-grid end-->
        </div><!-- preview-section end-->

        <div id="resultsSection" style="display: none;">
            <div class="metrics-grid">
                <div class="metric-card clickable-card" data-filter="all">
                    <div class="metric-label">Total Records</div>
                    <div class="metric-value" id="totalRecords">0</div>
                </div>
                <!-- Price per Mile-->
                <div class="metric-card clickable-card" data-filter="lo">
                    <div class="metric-label">Avg $/mi (1-3)</div>
                    <div class="metric-value" id="avgLoPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="hi">
                    <div class="metric-label">Avg $/mi (4+)</div>
                    <div class="metric-value" id="avgHiPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="inop">
                    <div class="metric-label">Avg $/mi INOP</div>
                    <div class="metric-value" id="avgInopPrice">$0</div>
                </div>
                <!-- Tariff Price -->
                <div class="metric-card clickable-card" data-filter="lo">
                    <div class="metric-label">Avg Tarriff (1-3)</div>
                    <div class="metric-value" id="avgTarriffLoPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="hi">
                    <div class="metric-label">Avg Tarriff (4+)</div>
                    <div class="metric-value" id="avgTarriffHiPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="inop">
                    <div class="metric-label">Avg Tarriff INOP</div>
                    <div class="metric-value" id="avgTarriffInopPrice">$0</div>
                </div>
                <!-- Carrier Price -->
                <div class="metric-card clickable-card" data-filter="lo">
                    <div class="metric-label">Avg Carrier (1-3)</div>
                    <div class="metric-value" id="avgCarrierLoPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="hi">
                    <div class="metric-label">Avg Carrier (4+)</div>
                    <div class="metric-value" id="avgCarrierHiPrice">$0</div>
                </div>
                <div class="metric-card clickable-card" data-filter="inop">
                    <div class="metric-label">Avg Carrier INOP</div>
                    <div class="metric-value" id="avgCarrierInopPrice">$0</div>
                </div>
            </div><!-- metrics-grid end-->

            <div class="results-header">
                <h2>Search Results</h2>
                <button class="btn btn-secondary btn-sm" id="exportBtn">
                    üì• Export to CSV
                </button>
            </div><!-- results-header end-->

            <div class="table-container">
                <table class="data-table" id="resultsTable">
                    <thead id="resultsTableHead">
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
            </div><!-- table-container end-->

            <div class="pagination" id="pagination">
                <button class="btn btn-secondary btn-sm" id="prevBtn" disabled>Previous</button>
                <span id="pageInfo">Page 1</span>
                <button class="btn btn-secondary btn-sm" id="nextBtn" disabled>Next</button>
            </div>
        </div><!-- results-section end-->

        <div id="noResults" style="display: none;" class="no-results">
            <p>No historical orders found matching your search criteria.</p>
        </div><!-- no-results section end-->

        <div id="loadingResults" style="display: none;" class="loading-message">
            Searching orders...
        </div><!-- loading-message end-->
    </main>

    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/search.js"></script>
</body>

</html>